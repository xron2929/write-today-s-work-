질문글이 올라왔는데 차단당해서 대답해준거 후기로 쓰기로 했다
아스키코드 utf-8 호환 일부만 되는 이유
아스키코드는 utf-8로 했을 때 깨지는게 잘 보이질 않을 떄가 있다
이건 아스키코드는 첫비트를 항상 패리티비트로 둬서 0또는 1 어느것이든 단순히 문서를 쓸 때 잘 작동할 것 같다
그 다음 utf-8에서는 첫글자를 0또는 1을 두고 1인 경우 그 다음 글자로 여러 문자를 나타내는 식으로 비교하는데, 0인 경우에는 아스키코드의 문자값이랑 똑같은 값을 나타내기 때문에
깨지질 않는다
아스키 코드의 입장에서도 첫비트는 패리티비트 목적이기 때문에 0이든 1이든 여의치 않는다
그러나, 한글의 경우에는 아스키코드로 나타내기 힘든 경우는 utf-8로 2바이트 같이 나타내는 경우도 있는데, 아스키코드는 1바이트 2개처럼 판정이 되면, 코드가 깨질 것 같다
그리고, 유니코드랑 아스키코드도 아마 깨질 가능성은 있을 것 같기도 하다
110xxxxx 10xxxxxx 이렇게 두는 조건인데, 패리티비트+문자가 잘 맞는 조건이면 저렇게 나오는 경우 꺠질 수도 있을 것 같다
(통신 목적으로 아스키코드를 두는 이상, 짝수든 홀수든 전송하면 그 문서의 아스키코드를 고정시켜야하므로 첫글자비트는 항상 고정이다 이 떄 0으로 두면, 전송이 제대로 안될 거라는 점을 염두해야한다)
그래서, 아스키코드->utf8은 저렇게 패리티비트가 운 좋게 겹칠 경우 약간 꺠질 위험이 있고,
utf8->아스키코드는 한글처럼 2바이트같이 가변길이가 필요한경우 아스키코드에서 변역할 때 1바이트 1바이트 나눠서 번역하므로 꺠질 위험이 있다
