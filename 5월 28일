오늘 건국 사이버 평생교육원 강의 듣는데 영상 크게 볼 수가 없어서
코드 바꾸려고 하다가 심심해서 코드 바꾸니까 강의 안바도 본 것처럼 되도록 바로 뚫렸다
저번에 국취제 할 때도 비슷한 일이 있었는데..
물론 스프링을 막 공부한 나도 잘 모르겠지만 
쿠키만 제공하되 다른건 서버에서 관리해야 안전하다
(서버에서 제공하는건 파일에서 안 보여진다. 서버 data가 전부 관리하고 흩뿌려지는 식이다)
물론, 이렇게 해도 클라에서 서버한테 정보를 제공하는 값을 변조하면 서버는 막기 어렵다
내 작은 생각으로는 위의 경우는 저걸 막는 방법은 구글처럼 처음 회원가입한 권한이 있는 친구가
다른 클라나 서버에서도 너 접근 가능해 ㅇㅇ 라고 허용해주는 경우에만 막을 수 있다
이 경우 서버 내부적으로는 해당 ip를 검사해서 기존에 검사한 ip랑 동일하면 바로 허용하고,
아니면 기존에 등록되어있던 ip의 전화번호나 메일에게 얘 허용해줘? 말아? 라고 물어서
해당 기기가 ㅇㅇ 허용해줘 하면 허용되고 아니면 막는식이다
이 경우, 예를 들어 트위치 구독권이 있다면 트위치 구독권이 없는 애한테 해당 쿠키 id를 줘도
ip 검사를 하기 때문에 어렵다
그러면, 어차피 구독권이 있는 애가 없는 애한테 줄 수 있지 않냐라고 한다면
첫번 쨰 방법은 그래서 해당 기기에 대해 모든 정보 제공이 가능해서, 그걸 마음대로 못 뿌리게 하고, 보안적인 내용은 해당 사용자가 허락해야되도록 하는 방식이다
(이 경우 해당 사용자는 해당 쿠키정보를 제공하면, 본인 것도 노출이 되기 때문에 정보제공을 마음대로 할 수가 없다. 본인도 감수해야되니까...
만약 pc방에서 사용자가 머하는지 pc에 다 뜨니까 이걸 보고 막 접근할 위험은 당연히 ip를 통해 허락받아야만 하니 막 접근이 불가능하다.
만약 사용자가 이것도 허용한다면 본인 개인정보가 노출되니 할 일이 없을 것이다 아니면 해당 db에 인증된 정보를 바탕으로 주민번호랑 전화번호 확인해서 당사자가 맞는지 확인하던가..)
두번째 방법은 계속 권한을 바꾸는 방법이고(이 경우 트위치가 간혹 바뀐다는 내용이 있긴한 것 같다 id에 해당 권한은 이미 부여되어있으니, 거기서 바꿔도 db에서 권한이 있던 Id는 그 상태가 유지되고,
권한이 없는애가 기존껄로 바꿔서 요청하면 이미 바껴서 그렇게 사용할 수가 없다 단 이경우는, 기존의 정보를 다 바꿔야 되는데 과연 효과적인지는 모르겠다)
관련 내용이 아니긴한데, if에 대한 얘기였고, 
경량화를 하면 바로 바꾸는 건 어렵게 할 수 있는데, 어떻게든 간에 뚫린다
다만, 최근에 네카라 개발자 분한테 한마디 한마디 친절하게 가르쳐 주시는데, 이 분이랑 대화하면서 느꼈던 점이 단순히 지엽적으로만 문제를 해결하지말고, 문제의 원인을. 구조자체를 해결하는 것이 중요하다
라는 내용을 답변 받은 적이 있다
그런 점에서 볼 때 이 경우는 좋지 못한 선택인 것 같다
어쩃든, 학은제 영상 사이트 자체는 위처럼 설정하기 어려운 부분도 아니었고, java에서 코드가 돌아가게 하면 될 부분이었는데, 그걸 클라이언트에서 바꾸고 서버에서 처리하게 하니까
보다싶이 나같은 스프링도 모르는 취준생한테 털렸는데, 나는 저렇게 안짜야될 것 같은 생각을 하였다
물론 악용할 생각은 아니다. 신청했는데 열심히 들어야 의미가 있다고 생각하는데 나는 저렇게 안짜야 겠다는 다짐이기도 하다. 암튼 그러하다
 



